<?xml version="1.0" encoding="utf-8"?>
<Plugin>
    <Name>MIDI 转换插件</Name>
    <Version>0.6.0</Version>
    <Author>笛鹿FlutyDeer</Author>
    <HomePage>https://space.bilibili.com/386270936</HomePage>
    <Descriptions>适用于 OpenSvip 的 MIDI 格式转换插件。</Descriptions>
    <Requirements>无</Requirements>
    <Format>MIDI 文件</Format>
    <Suffix>mid</Suffix>
    <Identifier>midi</Identifier>
    <LibraryPath>Midi\FlutyDeer.MidiPlugin.exe</LibraryPath>
    <Converter>FlutyDeer.MidiStream.MidiConverter</Converter>
	<InputOptions>
		<Option Name="importLyrics" Type="boolean" Default="false">
			<Notes>导入歌词（实验性）</Notes>
			<Tips>此功能尚不成熟，启用本选项可能出现无法预料的情况。</Tips>
		</Option>
		<Option Name="lyricEncoding" Type="enum" Default="UTF8BOM">
			<Notes>歌词文本编码</Notes>
			<Tips>除非歌词出现乱码，否则不应更改此设置。</Tips>
			<EnumChoices>
				<Choice Name="ASCII" Tag="ASCII" />
				<Choice Name="BigEndianUnicode" Tag="BigEndianUnicode" />
				<Choice Name="Default" Tag="Default">
					<Label>操作系统的当前 ANSI 代码页的编码。</Label>
				</Choice>
				<Choice Name="Unicode" Tag="Unicode" />
				<Choice Name="UTF-32" Tag="UTF32" />
				<Choice Name="UTF-7" Tag="UTF7" />
				<Choice Name="UTF-8 BOM" Tag="UTF8BOM" />
				<Choice Name="UTF-8" Tag="UTF8" />
			</EnumChoices>
		</Option>
		<!-- <Option Name="channel" Type="integer" Default="0">
			<Notes>通道</Notes>
			<Tips>指定要导入哪条通道上的音符。默认导入首条通道上的音符，即通道0。取值范围：0-15。</Tips>
		</Option> -->
		<Option Name="errorMidiFilePolicy" Type="enum" Default="abort">
			<Notes>有错误的 MIDI 文件导入策略</Notes>
			<Tips>选择“忽略错误”，软件将会尝试导入含有错误的 MIDI 文件，但不保证能正确导入。</Tips>
			<EnumChoices>
				<Choice Name="中止" Tag="abort" />
				<Choice Name="忽略错误" Tag="ignore" />
			</EnumChoices>
		</Option>
	</InputOptions>
	<OutputOptions>
		<Option Name="transpose" Type="integer" Default="0">
			<Notes>移调</Notes>
		</Option>
		<Option Name="removeSymbols" Type="boolean" Default="true">
			<Notes>移除歌词中的常见标点符号</Notes>
			<Tips>移除中英文的逗号、句号、问号和感叹号，防止不支持含标点符号歌词的歌声合成软件无法正常合成。</Tips>
		</Option>
		<Option Name="compatibleLyric" Type="boolean" Default="false">
			<Notes>歌词兼容性模式</Notes>
			<Tips>将所有中文歌词转换为拼音，防止不支持导入带有中文歌词 MIDI 文件的歌声合成软件出现乱码。</Tips>
		</Option>
		<Option Name="lyricEncoding" Type="enum" Default="UTF8BOM">
			<Notes>歌词文本编码</Notes>
			<Tips>除非打开歌词兼容性模式后仍然乱码，否则不应更改此设置。</Tips>
			<EnumChoices>
				<Choice Name="ASCII" Tag="ASCII" />
				<Choice Name="BigEndianUnicode" Tag="BigEndianUnicode" />
				<Choice Name="Default" Tag="Default">
					<Label>操作系统的当前 ANSI 代码页的编码。</Label>
				</Choice>
				<Choice Name="Unicode" Tag="Unicode" />
				<Choice Name="UTF-32" Tag="UTF32" />
				<Choice Name="UTF-7" Tag="UTF7" />
				<Choice Name="UTF-8 BOM" Tag="UTF8BOM" />
				<Choice Name="UTF-8" Tag="UTF8" />
			</EnumChoices>
		</Option>
		<Option Name="ppq" Type="integer" Default="480">
			<Notes>时基(PPQ)</Notes>
			<Tips>即 parts per quarter, 又名 ticks per quarter note，每四分音符的脉冲数。除非你知道这是什么，否则不应更改此设置。</Tips>
		</Option>
		<Option Name="semivowelPreShift" Type="integer" Default="0">
			<Notes>半元音前移量</Notes>
			<Tips>非负整数，单位为梯。输入负数视为零。将发音为 y-、w- 和 er 的音符提前，以缓解某些歌声合成软件半元音音符出现迟滞的问题。推荐值：30~60。</Tips>
		</Option>
	</OutputOptions>
</Plugin>
